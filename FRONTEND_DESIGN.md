# 3D NFT å‰ç«¯ä¸šåŠ¡è®¾è®¡

## ğŸ“‹ ä¸šåŠ¡æµç¨‹

### æ ¸å¿ƒç”¨æˆ·æ•…äº‹
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›é€šè¿‡æ–‡æœ¬æè¿°ç”Ÿæˆç‹¬ä¸€æ— äºŒçš„3Dæ¨¡å‹NFTï¼Œå¹¶åœ¨åŒºå—é“¾ä¸Šæ‹¥æœ‰è¯¥æ•°å­—èµ„äº§çš„æ‰€æœ‰æƒ

### ä¸»è¦ä¸šåŠ¡æµç¨‹

```mermaid
flowchart TD
    A[ç”¨æˆ·è¾“å…¥prompt] --> B[è°ƒç”¨Meshy AI API]
    B --> C[ç”Ÿæˆå¤šä¸ª3Dæ¨¡å‹é¢„è§ˆ]
    C --> D[ç”¨æˆ·é€‰æ‹©å–œæ¬¢çš„æ¨¡å‹]
    D --> E[è¿æ¥Web3é’±åŒ…]
    E --> F[æ”¯ä»˜ETH/ä»£å¸]
    F --> G[æ™ºèƒ½åˆçº¦é“¸é€ NFT]
    G --> H[3Dæ¨¡å‹ä¸Šä¼ IPFS]
    H --> I[ç”¨æˆ·è·å¾—NFTè¯ä¹¦]
    I --> J[å¯åœ¨å¹³å°å±•ç¤º/äº¤æ˜“]
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. AI ç”Ÿæˆæ¨¡å— (AI Generation)
**é¡µé¢**: `/generate`

**ä¸»è¦åŠŸèƒ½**:
- æ–‡æœ¬promptè¾“å…¥ç•Œé¢
- é«˜çº§å‚æ•°è®¾ç½® (æ¨¡å‹ç±»å‹ã€é£æ ¼ã€å¤æ‚åº¦)
- ç”Ÿæˆè¿›åº¦è·Ÿè¸ª
- å¤šç§3Dæ¨¡å‹é¢„è§ˆå±•ç¤º

**UIç»„ä»¶**:
```
PromptInput - æ™ºèƒ½æç¤ºè¾“å…¥æ¡†
GenerationSettings - ç”Ÿæˆå‚æ•°é¢æ¿
ModelPreview - 3Dæ¨¡å‹é¢„è§ˆå™¨ (Three.js)
GenerationProgress - ç”Ÿæˆè¿›åº¦æ¡
ModelGallery - ç”Ÿæˆç»“æœå±•ç¤º
```

### 2. æ¨¡å‹é¢„è§ˆæ¨¡å— (Model Viewer)
**é¡µé¢**: `/preview/:taskId`

**ä¸»è¦åŠŸèƒ½**:
- 360åº¦3Dæ¨¡å‹æŸ¥çœ‹
- ç¼©æ”¾ã€æ—‹è½¬ã€å¹³ç§»æ§åˆ¶
- æ¨¡å‹è´¨é‡é¢„è§ˆ
- ä¸‹è½½é«˜è´¨é‡æ¨¡å‹æ–‡ä»¶
- æ¨¡å‹å‚æ•°ä¿¡æ¯æ˜¾ç¤º

**UIç»„ä»¶**:
```
ModelViewer3D - ä¸»è¦3DæŸ¥çœ‹å™¨
ViewerControls - è§†å›¾æ§åˆ¶é¢æ¿
ModelInfo - æ¨¡å‹ä¿¡æ¯å¡ç‰‡
QualitySelector - è´¨é‡é€‰æ‹©å™¨
DownloadButton - ä¸‹è½½æŒ‰é’®
```

### 3. Web3 é›†æˆæ¨¡å— (Web3 Integration)
**é¡µé¢**: å…¨å±€é›†æˆ

**ä¸»è¦åŠŸèƒ½**:
- é’±åŒ…è¿æ¥ (MetaMask, WalletConnect)
- ä½™é¢æŸ¥è¯¢
- äº¤æ˜“ç­¾å
- ç½‘ç»œåˆ‡æ¢
- äº¤æ˜“çŠ¶æ€è·Ÿè¸ª

**UIç»„ä»¶**:
```
WalletConnect - é’±åŒ…è¿æ¥æŒ‰é’®
BalanceDisplay - ä½™é¢æ˜¾ç¤º
NetworkSelector - ç½‘ç»œé€‰æ‹©å™¨
TransactionModal - äº¤æ˜“ç¡®è®¤å¼¹çª—
TransactionStatus - äº¤æ˜“çŠ¶æ€è·Ÿè¸ª
```

### 4. NFT é“¸é€ æ¨¡å— (NFT Minting)
**é¡µé¢**: `/mint/:modelId`

**ä¸»è¦åŠŸèƒ½**:
- NFTå…ƒæ•°æ®ç¼–è¾‘
- ä»·æ ¼è®¾ç½®å’Œæ”¯ä»˜
- æ™ºèƒ½åˆçº¦äº¤äº’
- IPFSä¸Šä¼ 
- é“¸é€ ç¡®è®¤

**UIç»„ä»¶**:
```
NFTMetadataForm - NFTä¿¡æ¯ç¼–è¾‘è¡¨å•
PriceCalculator - ä»·æ ¼è®¡ç®—å™¨
PaymentConfirm - æ”¯ä»˜ç¡®è®¤
IPFSUploader - IPFSä¸Šä¼ ç»„ä»¶
MintingStatus - é“¸é€ çŠ¶æ€è·Ÿè¸ª
```

### 5. ç”¨æˆ·èµ„äº§æ¨¡å— (User Assets)
**é¡µé¢**: `/profile`, `/collection`

**ä¸»è¦åŠŸèƒ½**:
- ä¸ªäººNFTæ”¶è—å±•ç¤º
- 3Dæ¨¡å‹ç®¡ç†
- äº¤æ˜“å†å²
- è½¬å”®å¸‚åœº
- èµ„äº§ç»Ÿè®¡

**UIç»„ä»¶**:
```
ProfileHeader - ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨
NFTCollection - NFTæ”¶è—ç½‘æ ¼
AssetCard - å•ä¸ªèµ„äº§å¡ç‰‡
TransactionHistory - äº¤æ˜“å†å²åˆ—è¡¨
MarketplaceIntegration - å¸‚åœºé›†æˆ
```

### 6. å¸‚åœºå±•ç¤ºæ¨¡å— (Marketplace)
**é¡µé¢**: `/marketplace`, `/explore`

**ä¸»è¦åŠŸèƒ½**:
- å…¬å¼€NFTå±•ç¤º
- æœç´¢å’Œç­›é€‰
- çƒ­é—¨æ¨è
- ç±»åˆ«æµè§ˆ
- è¯¦æƒ…é¡µé¢

**UIç»„ä»¶**:
```
MarketplaceHeader - å¸‚åœºé¡µå¤´éƒ¨
SearchFilters - æœç´¢ç­›é€‰å™¨
NFTGrid - NFTç½‘æ ¼å±•ç¤º
CategoryTabs - åˆ†ç±»æ ‡ç­¾
FeaturedSection - ç²¾é€‰åŒºåŸŸ
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
```json
{
  "framework": "Next.js 15 (App Router)",
  "language": "TypeScript",
  "styling": "Tailwind CSS 4",
  "3d_engine": "React Three Fiber + Three.js",
  "web3": "wagmi + viem",
  "state": "Zustand + React Query",
  "ui_library": "shadcn/ui + Radix UI"
}
```

### é¡µé¢è·¯ç”±ç»“æ„
```
/                     - é¦–é¡µ (Hero + ç‰¹è‰²å±•ç¤º)
/generate             - AIç”Ÿæˆé¡µé¢
/preview/:taskId      - æ¨¡å‹é¢„è§ˆé¡µé¢
/mint/:modelId        - NFTé“¸é€ é¡µé¢
/profile              - ä¸ªäººä¸­å¿ƒ
/collection           - ä¸ªäººæ”¶è—
/marketplace          - NFTå¸‚åœº
/explore              - å‘ç°é¡µé¢
/asset/:tokenId       - NFTè¯¦æƒ…é¡µé¢
/history              - äº¤æ˜“å†å²
```

### çŠ¶æ€ç®¡ç†è®¾è®¡
```typescript
// åº”ç”¨çŠ¶æ€ç»“æ„
interface AppState {
  user: {
    address: string | null;
    balance: bigint;
    nftCount: number;
  };
  generation: {
    currentTask: string | null;
    progress: number;
    results: Model3D[];
  };
  web3: {
    isConnected: boolean;
    network: string;
    contracts: ContractAddresses;
  };
  marketplace: {
    featuredNFTs: NFTItem[];
    filters: FilterState;
    searchResults: NFTItem[];
  };
}
```

## ğŸ”— API æ¥å£éœ€æ±‚

### 1. Meshy AI é›†æˆ
```typescript
// 3Dæ¨¡å‹ç”ŸæˆAPI
interface MeshyAPI {
  // æäº¤ç”Ÿæˆä»»åŠ¡
  submitGeneration(prompt: string, settings: GenerationSettings): Promise<TaskResponse>;
  
  // æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
  getTaskStatus(taskId: string): Promise<TaskStatus>;
  
  // è·å–ç”Ÿæˆç»“æœ
  getTaskResult(taskId: string): Promise<Model3DResult[]>;
  
  // ä¸‹è½½æ¨¡å‹æ–‡ä»¶
  downloadModel(modelId: string, format: 'glb' | 'fbx' | 'obj'): Promise<Blob>;
}
```

### 2. IPFS å­˜å‚¨é›†æˆ
```typescript
// IPFSä¸Šä¼ æœåŠ¡
interface IPFSService {
  // ä¸Šä¼ 3Dæ¨¡å‹æ–‡ä»¶
  uploadModel(file: File): Promise<IPFSHash>;
  
  // ä¸Šä¼ NFTå…ƒæ•°æ®
  uploadMetadata(metadata: NFTMetadata): Promise<IPFSHash>;
  
  // è·å–æ–‡ä»¶URL
  getFileURL(hash: string): string;
}
```

### 3. æ™ºèƒ½åˆçº¦æ¥å£
```typescript
// NFTåˆçº¦äº¤äº’
interface NFTContract {
  // é“¸é€ NFT
  mint(to: string, tokenURI: string, price: bigint): Promise<TransactionHash>;
  
  // æŸ¥è¯¢NFTä¿¡æ¯
  getTokenInfo(tokenId: bigint): Promise<TokenInfo>;
  
  // è½¬ç§»NFT
  transfer(from: string, to: string, tokenId: bigint): Promise<TransactionHash>;
  
  // æŸ¥è¯¢ç”¨æˆ·NFT
  getUserTokens(address: string): Promise<bigint[]>;
}
```

## ğŸ¨ ç”¨æˆ·ä½“éªŒè®¾è®¡

### è®¾è®¡åŸåˆ™
1. **ç®€æ´ç›´è§‚**: é™ä½Web3ä½¿ç”¨é—¨æ§›
2. **è§†è§‰éœ‡æ’¼**: çªå‡º3Dæ¨¡å‹å±•ç¤ºæ•ˆæœ
3. **æµç¨‹é¡ºç•…**: ä»ç”Ÿæˆåˆ°é“¸é€ ä¸€é”®å®Œæˆ
4. **æ€§èƒ½ä¼˜åŒ–**: 3Dæ¨¡å‹æµç•…åŠ è½½å’Œæ¸²æŸ“

### å“åº”å¼è®¾è®¡
- **æ¡Œé¢ç«¯**: å®Œæ•´åŠŸèƒ½ä½“éªŒï¼Œæ”¯æŒå¤æ‚3Däº¤äº’
- **å¹³æ¿ç«¯**: ä¼˜åŒ–è§¦æ§æ“ä½œï¼Œç®€åŒ–ç•Œé¢å¸ƒå±€
- **ç§»åŠ¨ç«¯**: æ ¸å¿ƒåŠŸèƒ½ç²¾ç®€ï¼Œé€‚é…å°å±å¹•æµè§ˆ

### æš—è‰²ä¸»é¢˜é€‚é…
- ç§‘æŠ€æ„Ÿé…è‰²æ–¹æ¡ˆ
- 3Dæ¨¡å‹èƒŒæ™¯ä¼˜åŒ–
- é«˜å¯¹æ¯”åº¦æ–‡å­—æ˜¾ç¤º

## ğŸ“± æ ¸å¿ƒé¡µé¢åŸå‹

### 1. ç”Ÿæˆé¡µé¢ (`/generate`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header: Logo | Wallet Connect       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¨ AI 3D Model Generator            â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ’­ Describe your 3D model...   â”‚ â”‚
â”‚ â”‚ e.g., "A futuristic robot with â”‚ â”‚
â”‚ â”‚ glowing blue eyes and metallic  â”‚ â”‚
â”‚ â”‚ armor"                          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ Advanced Settings â–¼                 â”‚
â”‚ Style: Realistic | Cartoon | Cyber  â”‚
â”‚ Quality: Standard | High | Ultra    â”‚
â”‚                                     â”‚
â”‚        [ Generate Models ]          â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 3D  â”‚ â”‚ 3D  â”‚ â”‚ 3D  â”‚ â”‚ 3D  â”‚    â”‚
â”‚ â”‚Modelâ”‚ â”‚Modelâ”‚ â”‚Modelâ”‚ â”‚Modelâ”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. é¢„è§ˆé¡µé¢ (`/preview/:taskId`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back to Generation | [Mint NFT]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                 â”‚ â”‚ Model Info  â”‚ â”‚
â”‚ â”‚   3D Viewer     â”‚ â”‚ Name: ...   â”‚ â”‚
â”‚ â”‚   (Three.js)    â”‚ â”‚ Style: ...  â”‚ â”‚
â”‚ â”‚                 â”‚ â”‚ Vertices:.. â”‚ â”‚
â”‚ â”‚                 â”‚ â”‚ Size: ...   â”‚ â”‚
â”‚ â”‚   ğŸ® Controls   â”‚ â”‚             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ Downloads   â”‚ â”‚
â”‚                     â”‚ â¬‡ GLB       â”‚ â”‚
â”‚ Quality: [High]     â”‚ â¬‡ FBX       â”‚ â”‚
â”‚ Animation: [Play]   â”‚ â¬‡ OBJ       â”‚ â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. é“¸é€ é¡µé¢ (`/mint/:modelId`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”® Mint Your 3D NFT                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   3D Preview    â”‚ â”‚ NFT Details â”‚ â”‚
â”‚ â”‚                 â”‚ â”‚ Name: [___] â”‚ â”‚
â”‚ â”‚                 â”‚ â”‚ Desc: [___] â”‚ â”‚
â”‚ â”‚                 â”‚ â”‚             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ Price       â”‚ â”‚
â”‚                     â”‚ 0.05 ETH    â”‚ â”‚
â”‚ Blockchain Details  â”‚ + Gas Fee   â”‚ â”‚
â”‚ Network: Ethereum   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚ Contract: 0x...     â”‚ Total: 0.08 â”‚ â”‚
â”‚ Token ID: #1234     â”‚             â”‚ â”‚
â”‚                     â”‚ [Confirm &  â”‚ â”‚
â”‚ ğŸ’° Your Balance     â”‚  Pay]       â”‚ â”‚
â”‚ 1.25 ETH           â”‚             â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ çŠ¶æ€æµè½¬

### ç”Ÿæˆæµç¨‹çŠ¶æ€
```
IDLE â†’ GENERATING â†’ COMPLETED â†’ SELECTING â†’ PREVIEWING â†’ MINTING â†’ MINTED
```

### é”™è¯¯å¤„ç†
- ç½‘ç»œè¿æ¥é”™è¯¯
- AIç”Ÿæˆå¤±è´¥
- é’±åŒ…è¿æ¥é—®é¢˜
- äº¤æ˜“å¤±è´¥å¤„ç†
- IPFSä¸Šä¼ å¼‚å¸¸

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 3Dæ¨¡å‹ä¼˜åŒ–
- Progressive loading (ä½è´¨é‡â†’é«˜è´¨é‡)
- æ¨¡å‹å‹ç¼©å’ŒLOD
- çº¹ç†å‹ç¼©
- æ‡’åŠ è½½ç­–ç•¥

### Web3ä¼˜åŒ–
- äº¤æ˜“çŠ¶æ€ç¼“å­˜
- æ‰¹é‡æŸ¥è¯¢åˆçº¦
- ç½‘ç»œåˆ‡æ¢ä¼˜åŒ–

---

*è®¾è®¡ç‰ˆæœ¬: v1.0*  
*æ›´æ–°æ—¶é—´: 2025-08-16*